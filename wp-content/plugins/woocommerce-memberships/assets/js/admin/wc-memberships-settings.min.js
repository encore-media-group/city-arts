"use strict";(function(){jQuery(document).ready(function(i){var e,s,r,t,_;if(_=null!=(r=window.wc_memberships_admin)?r:{},"woocommerce_page_wc-settings"===(null!=(t=window.pagenow)?t:""))return i("#wc_memberships_restriction_mode").change(function(e){return"redirect"===i(this).val()?i("#wc_memberships_redirect_page_id").closest("tr").show():i("#wc_memberships_redirect_page_id").closest("tr").hide(),"hide"===i(this).val()?i("#wc_memberships_show_excerpts").closest("tr").hide():i("#wc_memberships_show_excerpts").closest("tr").show()}).change(),i("select.js-select-edit-message-group").change(function(e){var _;return _=i(this).val(),i("form#mainform").find("tr").each(function(e,s){var r,t,n;return t=(r=(n=i(s).closest("table")).prev()).prev(),i(s).find(_).length?(n.show(),r.show(),t.show()):i(s).find(".js-select-edit-message-group").length?void 0:(n.hide(),r.hide(),t.hide())})}).change(),i("#wc_memberships_display_member_login_notice").change(function(e){return"never"===i(this).val()?i("#wc_memberships_messages\\[member_login_message\\]").closest("tr").hide():i("#wc_memberships_messages\\[member_login_message\\]").closest("tr").show()}).change(),s=i("#woocommerce_WC_Memberships_User_Membership_Ending_Soon_Email_send_days_before"),e=i("#woocommerce_WC_Memberships_User_Membership_Renewal_Reminder_Email_send_days_after"),(0<s.length||0<e.length)&&(i(".woocommerce-save-button").after('<button id="wc-memberships-user-memberships-reschedule-events" name="reschedule" class="button button-large" style="margin-left:12px;">'+_.i18n.reschedule+"</button>"),i("button#wc-memberships-user-memberships-reschedule-events").on("click",function(e){var s,r;return e.preventDefault(),s=i("input#wc-memberships-reschedule-user-memberships-events-ongoing-job-id").val(),r={action:"wc_memberships_get_batch_job",security:_.get_memberships_batch_job_nonce,job_name:"user_memberships_reschedule_events",job_id:s||"",process:!0},i.post(_.ajax_url,r,function(e){return e.success?new WC_Memberships_Modal_View_Reschedule_User_Memberships_Events({data:{job:null,error:null}}):console.log(e)})})),window.WC_Memberships_Modal_View_Reschedule_User_Memberships_Events=WC_Memberships_Modal_View.extend({template_id:"wc-memberships-modal-reschedule-user-memberships-events",initialize:function(e){var s,r,t,n;return n=this,s=e.data.job?e.data.job:null,t=e.data.error?e.data.error:null,WC_Memberships_Modal_View_Reschedule_User_Memberships_Events.__super__.initialize.apply(this,arguments),n.unblock(),s&&s.id?"completed"===s.status||t?window.onbeforeunload=null:(t||(window.onbeforeunload=function(){return _.i18n.confirm_stop_batch_job}),r={action:"wc_memberships_get_batch_job",security:_.get_memberships_batch_job_nonce,job_name:s.name,job_id:s.id,process:!0},i.post(_.ajax_url,r,function(e){return e.data?(n.close(),new WC_Memberships_Modal_View_Reschedule_User_Memberships_Events({data:{job:e.success?e.data:null,error:e.success?null:e.data}})):console.log(e)})):i("#btn-start").on("click",function(e){return e.preventDefault(),n.block(),r={action:"wc_memberships_reschedule_user_memberships_events",security:_.reschedule_user_memberships_events_nonce},i.post(_.ajax_url,r,function(e){return e.data?(n.close(),new WC_Memberships_Modal_View_Reschedule_User_Memberships_Events({data:{job:e.success?e.data:null,error:e.success?null:e.data}})):console.log(e)})})}})})}).call(void 0);